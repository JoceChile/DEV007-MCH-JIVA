<!--este titulo deberia borrarlo, pero debo cambiar el test primero::::::::::::::::::::-->

<div ngClass="welcome">
  <h1 style="font-size: 5px; color: #0e0e0e; text-align: center">
    Welcome to {{ title }}
  </h1>
</div>

<!--HEADER - TOP BAR 
  
LOGO / INPUT / BUTTON SEARCH / MENU ::::::::::::::::::::::::::::-->

<header ngClass="top-bar">
  <div>
    <img src="../assets/Moviepedia.png" alt="logo" ngClass="logo" />
  </div>

  <div>
    <input
      type="text"
      [formControl]="searchTerm"
      placeholder="Search in Moviepedia"
      ngClass="search-input"
      (input)="onSearchInput()"
    />
  </div>

  <div>
    <button (click)="searchMovies()" ngClass="search-button">Search</button>
  </div>

  <button ngClass="menu-button" [matMenuTriggerFor]="menu">Menu</button>
  <mat-menu #menu="matMenu">
    <button mat-menu-item [matMenuTriggerFor]="genreMenu">Genres</button>
  </mat-menu>

  <mat-menu #genreMenu="matMenu">
    <button
      mat-menu-item
      *ngFor="let genre of genres"
      (click)="filterByGenre(genre)"
    >
      {{ genre }}
    </button>
  </mat-menu>
</header>

<!-- MOVIE RESULTS 

NOT RESULT
TITLE
YEAR
POSTER

-->

<div ngClass="movie-container">
  <!-- <div *ngIf="movies.length === 0">
    <p>Not results</p>
  </div> -->

  <div *ngIf="movies.length > 0">
    <!-- <h2>Search result:</h2> -->

    <div ngClass="movie-list">
      <div
        *ngFor="let movie of movies"
        (click)="selectMovie(movie)"
        ngClass="movie-item"
      >
        <div ngClass="movie-info">
          <h3>{{ movie.Title }} ({{ movie.Year }})</h3>
          <img [src]="movie.Poster" alt="{{ movie.Title }} Poster" />
        </div>

        <div *ngIf="selectedMovie" ngClass="selected-movie-details">
          <!-- <p>Selected Movie: {{ selectedMovie.Title }}</p> -->
          <app-movie [movie]="selectedMovie"></app-movie>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- BUTTON NEXT PAGE -->
<button
  ngClass="next-page"
  mat-button
  *ngIf="movies.length > 5"
  (click)="loadNextPage()"
>
  Next Page
</button>
